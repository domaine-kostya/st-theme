<script src="{{ 'sections.trust-bar.js' | asset_url }}" defer="defer"></script>
{{ 'sections.trust-bar.css' | asset_url | stylesheet_tag }}

<div class="trust-bar trust-bar--{{ section.id }}" role="region" aria-label="Trust Bar">
  <div class="container">
    <div class="row">
      {% for block in section.blocks %}
        <div class="trust-bar__item col-6 col-md text-center">
          <a class="image-link" href="{{ block.settings.cta_link }}" title="{{ block.settings.title }} - {{ block.settings.cta_text }}">
            <div class="trust-bar__icon-wrapper">
              {{ block.settings.icon | image_url: width: 112 | image_tag: loading: 'lazy', class: 'trust-bar__icon' }}
            </div>

            <p class="heading-4">
              {{ block.settings.title }}
            </p>

            <p class="trust-bar__item-text">
              {{ block.settings.content }}
            </p>

            <span class="ui-link">
              {{ block.settings.cta_text }}
            </span>
          </a>
        </div>
      {% endfor %}
    </div>
  </div>
</div>

<style>
  .trust-bar--{{ section.id }} {
    background-color: {{ section.settings.background_color }};
  }
</style>

{% render 'section-spacing', section_name: 'trust-bar' %}

{% schema %}
  {
    "settings": [
      {
        "type": "color",
        "id": "background_color",
        "label": "Background Color",
        "default": "#CDE0F1"
      },
      {
        "type": "header",
        "content": "Section Margin"
      },
      {
        "type": "select",
        "id": "margin_top",
        "label": "Margin Top",
        "default": "default",
        "options": [
          {"value": "default", "label": "Theme Default"},
          {"value": "0", "label": "None"},
          {"value": "8px", "label": "8px"},
          {"value": "16px", "label": "16px"},
          {"value": "32px", "label": "32px"},
          {"value": "48px", "label": "48px"},
          {"value": "64px", "label": "64px"},
          {"value": "102px", "label": "102px"}
        ]
      },
      {
        "type": "select",
        "id": "margin_top_mobile",
        "label": "Margin Top Mobile",
        "default": "default",
        "options": [
          {"value": "default", "label": "Theme Default"},
          {"value": "0", "label": "None"},
          {"value": "8px", "label": "8px"},
          {"value": "16px", "label": "16px"},
          {"value": "32px", "label": "32px"},
          {"value": "48px", "label": "48px"},
          {"value": "64px", "label": "64px"},
          {"value": "102px", "label": "102px"}
        ]
      },
      {
        "type": "select",
        "id": "margin_bottom",
        "label": "Margin Bottom",
        "default": "default",
        "options": [
          {"value": "default", "label": "Theme Default"},
          {"value": "0", "label": "None"},
          {"value": "8px", "label": "8px"},
          {"value": "16px", "label": "16px"},
          {"value": "32px", "label": "32px"},
          {"value": "48px", "label": "48px"},
          {"value": "64px", "label": "64px"},
          {"value": "102px", "label": "102px"}
        ]
      },
      {
        "type": "select",
        "id": "margin_bottom_mobile",
        "label": "Margin Bottom Mobile",
        "default": "default",
        "options": [
          {"value": "default", "label": "Theme Default"},
          {"value": "0", "label": "None"},
          {"value": "8px", "label": "8px"},
          {"value": "16px", "label": "16px"},
          {"value": "32px", "label": "32px"},
          {"value": "48px", "label": "48px"},
          {"value": "64px", "label": "64px"},
          {"value": "102px", "label": "102px"}
        ]
      }
    ],
    "blocks": [
      {
        "type": "block",
        "name": "Block",
        "limit": 4,
        "settings": [
          {
            "type": "image_picker",
            "id": "icon",
            "label": "Icon",
            "info": "Dimensions 112 x 112"
          },
          {
            "type": "text",
            "id": "title",
            "label": "Title"
          },
          {
            "type": "textarea",
            "id": "content",
            "label": "Content"
          },
          {
            "type": "text",
            "id": "cta_text",
            "label": "CTA Text"
          },
          {
            "type": "url",
            "id": "cta_link",
            "label": "CTA Link"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Trust Bar"
      }
    ]
  }
{% endschema %}
